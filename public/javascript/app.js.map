{"version":3,"sources":["app.js"],"names":["screenWidth","window","innerWidth","document","documentElement","clientWidth","body","screenHeight","innerHeight","clientHeight","html","console","log","documentHeight","Math","max","scrollHeight","offsetHeight","toTitleCase","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","slugify","text","post","querySelector","aside","postHeadingsContainer","createElement","headings","slice","call","querySelectorAll","reverse","insertAdjacentElement","forEach","heading","index","type","tagName","copy","innerText","anchorName","anchor","link","setAttribute","classList","add","CurrentScroll","onscroll","windowScroll","scroll","pageYOffset","position","offsetTop","currentHeading"],"mappings":"AAAA,MAAAA,cAAAC,OAAAC,UAAA,IACAC,SAAAC,eAAA,CAAAC,WADA,IAEAF,SAAAG,IAAA,CAAAD,WAFA;;AAIA,MAAAE,eAAAN,OAAAO,WAAA,IACAL,SAAAC,eAAA,CAAAK,YADA,IAEAN,SAAAG,IAAA,CAAAG,YAFA;AAGA,MAAAH,OAAAH,SAAAG,IAAA;AACA,MAAAI,OAAAP,SAAAC,eAAA;AACAO,QAAAC,GAAA,CAAA,MAAA;AACA,MAAAC,iBAAAC,KAAAC,GAAA,CACAT,KAAAU,YADA,EACAV,KAAAW,YADA,EAEAP,KAAAD,YAFA,EAEAC,KAAAM,YAFA,EAEAN,KAAAO,YAFA,CAAA;AAIA,MAAAC,cAAAC,OAAAA,IAAAC,OAAA,CAAA,QAAA,EAAAC,OAAAA,IAAAC,MAAA,CAAA,CAAA,EAAAC,WAAA,KAAAF,IAAAG,MAAA,CAAA,CAAA,EAAAC,WAAA,EAAA,CAAA;AACA,MAAAC,UAAAC,QAAAA,KAAAF,WAAA,GAAAL,OAAA,CAAA,SAAA,EAAA,GAAA,CAAA;AACA,MAAAQ,OAAAzB,SAAA0B,aAAA,CAAA,+BAAA,CAAA;AACA,IAAAD,IAAA,EAAA;AACA,QAAAE,QAAA3B,SAAA0B,aAAA,CAAA,8BAAA,CAAA;AACA,QAAAE,wBAAA5B,SAAA6B,aAAA,CAAA,KAAA,CAAA;AACA,QAAAC,WAAA,GAAAC,KAAA,CAAAC,IAAA,CAAAP,KAAAQ,gBAAA,CAAA,wBAAA,CAAA,CAAA;AACAH,WAAAI,OAAA;AACA1B,UAAAC,GAAA,CAAAqB,QAAA;AACAH,QAAAQ,qBAAA,CAAA,WAAA,EAAAP,qBAAA;AACAE,WAAAM,OAAA,CAAA,CAAAC,OAAA,EAAAC,KAAA,KAAA;AACA,UAAAC,OAAAF,QAAAG,OAAA,CAAAlB,WAAA,EAAA;AACA,UAAAmB,OAAA1B,YAAAsB,QAAAK,SAAA,CAAA;AACA,UAAAC,aAAApB,QAAAkB,IAAA,CAAA;AACA,UAAAG,SAAA5C,SAAA6B,aAAA,CAAA,GAAA,CAAA;AACA,UAAAgB,OAAA7C,SAAA6B,aAAA,CAAA,GAAA,CAAA;AACAgB,SAAAC,YAAA,CAAA,MAAA,EAAA,IAAAH,UAAA,EAAA;AACAE,SAAAE,SAAA,CAAAC,GAAA,CAAAzB,QAAAgB,IAAA,CAAA;AACAM,SAAAH,SAAA,GAAAD,IAAA;AACAG,WAAAE,YAAA,CAAA,IAAA,EAAAH,UAAA;AACAN,YAAAF,qBAAA,CAAA,aAAA,EAAAS,MAAA;AACAhB,0BAAAO,qBAAA,CAAA,YAAA,EAAAU,IAAA;AACArC,YAAAC,GAAA,CAAA6B,KAAA,EAAAK,UAAA;AACA,GAbA;;AAeA,MAAAM,gBAAA,CAAA;AACAnD,SAAAoD,QAAA,GAAA,SAAAC,YAAA,GAAA;AACA,UAAAC,SAAAtD,OAAAuD,WAAA;;AAEA;AACA;AACAvB,aAAAM,OAAA,CAAAC,OAAA,IAAA;AACA,YAAAiB,WAAAjB,QAAAkB,SAAA,GAAAH,MAAA;AACA,UAAAE,YAAAlD,eAAA,IAAA,EAAA;AACA,cAAAoD,iBAAAxD,SAAA0B,aAAA,CAAA,kBAAAH,QAAAc,QAAAK,SAAA,CAAA,IAAA,CAAA;AACAc,uBAAAV,YAAA,CAAA,YAAA,EAAA,WAAA;AACA,OAHA,MAGA;AACA,cAAAU,iBAAAxD,SAAA0B,aAAA,CAAA,kBAAAH,QAAAc,QAAAK,SAAA,CAAA,IAAA,CAAA;AACAc,uBAAAV,YAAA,CAAA,YAAA,EAAA,YAAA;AACA;AACA,KATA;;AAWAG,oBAAAG,MAAA,CAhBA,CAgBA;AACA,GAjBA;AAkBA","file":"app.js","sourcesContent":["const screenWidth = window.innerWidth ||\n  document.documentElement.clientWidth ||\n  document.body.clientWidth;\n\nconst screenHeight = window.innerHeight ||\n  document.documentElement.clientHeight ||\n  document.body.clientHeight;\nconst body = document.body;\nconst html = document.documentElement;\nconsole.log('boom');\nconst documentHeight = Math.max(\n  body.scrollHeight, body.offsetHeight,\n  html.clientHeight, html.scrollHeight, html.offsetHeight,\n);\nconst toTitleCase = str => str.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\nconst slugify = text => text.toLowerCase().replace(/[\\W_]+/g, '-');\nconst post = document.querySelector('.post_container article .post');\nif (post) {\n  const aside = document.querySelector('.post_container aside .inner');\n  const postHeadingsContainer = document.createElement('div');\n  const headings = [].slice.call(post.querySelectorAll('h1, h2, h3, h4, h5, h6'));\n  headings.reverse();\n  console.log(headings);\n  aside.insertAdjacentElement('beforeend', postHeadingsContainer);\n  headings.forEach((heading, index) => {\n    const type = heading.tagName.toLowerCase();\n    const copy = toTitleCase(heading.innerText);\n    const anchorName = slugify(copy);\n    const anchor = document.createElement('a');\n    const link = document.createElement('a');\n    link.setAttribute('href', `#${anchorName}`);\n    link.classList.add(slugify(type));\n    link.innerText = copy;\n    anchor.setAttribute('id', anchorName);\n    heading.insertAdjacentElement('beforebegin', anchor);\n    postHeadingsContainer.insertAdjacentElement('afterbegin', link);\n    console.log(index, anchorName);\n  });\n\n  let CurrentScroll = 0;\n  window.onscroll = function windowScroll() {\n    const scroll = window.pageYOffset;\n\n    // log for debug\n    // console.log(scroll);\n    headings.forEach((heading) => {\n      const position = (heading.offsetTop - scroll);\n      if ((position <= (screenHeight * 0.66))) {\n        const currentHeading = document.querySelector(`aside a[href=\"#${slugify(heading.innerText)}\"]`);\n        currentHeading.setAttribute('data-state', 'is-active');\n      } else {\n        const currentHeading = document.querySelector(`aside a[href=\"#${slugify(heading.innerText)}\"]`);\n        currentHeading.setAttribute('data-state', 'not-active');\n      }\n    });\n\n    CurrentScroll = scroll; // Updates current scroll position\n  };\n}\n"]}
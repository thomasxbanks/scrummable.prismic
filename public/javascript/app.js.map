{"version":3,"sources":["app.js"],"names":["screenWidth","window","innerWidth","document","documentElement","clientWidth","body","screenHeight","innerHeight","clientHeight","html","documentHeight","Math","max","scrollHeight","offsetHeight","toTitleCase","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","slugify","text","main","querySelector","headings","slice","call","querySelectorAll","reverse","console","log","aside","createElement","list","insertAdjacentElement","forEach","heading","index","type","tagName","copy","innerText","anchorName","anchor","link","setAttribute","classList","add","onscroll","windowScroll","scroll","pageYOffset","position","offsetTop","currentHeading","CurrentScroll"],"mappings":"AAAA,MAAAA,cAAAC,OAAAC,UAAA,IACAC,SAAAC,eAAA,CAAAC,WADA,IAEAF,SAAAG,IAAA,CAAAD,WAFA;;AAIA,MAAAE,eAAAN,OAAAO,WAAA,IACAL,SAAAC,eAAA,CAAAK,YADA,IAEAN,SAAAG,IAAA,CAAAG,YAFA;AAGA,IAAAH,OAAAH,SAAAG,IAAA;AAAA,IACAI,OAAAP,SAAAC,eADA;;AAGA,MAAAO,iBAAAC,KAAAC,GAAA,CACAP,KAAAQ,YADA,EACAR,KAAAS,YADA,EAEAL,KAAAD,YAFA,EAEAC,KAAAI,YAFA,EAEAJ,KAAAK,YAFA,CAAA;AAIA,MAAAC,cAAAC,OAAAA,IAAAC,OAAA,CAAA,QAAA,EAAAC,OAAAA,IAAAC,MAAA,CAAA,CAAA,EAAAC,WAAA,KAAAF,IAAAG,MAAA,CAAA,CAAA,EAAAC,WAAA,EAAA,CAAA;AACA,MAAAC,UAAAC,QAAAA,KAAAF,WAAA,GAAAL,OAAA,CAAA,SAAA,EAAA,GAAA,CAAA;AACA,MAAAQ,OAAAvB,SAAAwB,aAAA,CAAA,UAAA,CAAA;AACA,MAAAC,WAAA,GAAAC,KAAA,CAAAC,IAAA,CAAA3B,SAAA4B,gBAAA,CAAA,wBAAA,CAAA,CAAA;AACAH,SAAAI,OAAA;AACAC,QAAAC,GAAA,CAAAN,QAAA;AACA,MAAAO,QAAAhC,SAAAiC,aAAA,CAAA,OAAA,CAAA;AACA,MAAAC,OAAAlC,SAAAiC,aAAA,CAAA,KAAA,CAAA;AACAD,MAAAG,qBAAA,CAAA,YAAA,EAAAD,IAAA;AACAX,KAAAY,qBAAA,CAAA,YAAA,EAAAH,KAAA;AACAP,SAAAW,OAAA,CAAA,CAAAC,OAAA,EAAAC,KAAA,KAAA;AACA,QAAAC,OAAAF,QAAAG,OAAA,CAAApB,WAAA,EAAA;AACA,QAAAqB,OAAA5B,YAAAwB,QAAAK,SAAA,CAAA;AACA,QAAAC,aAAAtB,QAAAoB,IAAA,CAAA;AACA,QAAAG,SAAA5C,SAAAiC,aAAA,CAAA,GAAA,CAAA;AACA,QAAAY,OAAA7C,SAAAiC,aAAA,CAAA,GAAA,CAAA;AACAY,OAAAC,YAAA,CAAA,MAAA,EAAA,IAAAH,UAAA,EAAA;AACAE,OAAAE,SAAA,CAAAC,GAAA,CAAAT,IAAA;AACAM,OAAAH,SAAA,GAAAD,IAAA;AACAG,SAAAE,YAAA,CAAA,IAAA,EAAAH,UAAA;AACAN,UAAAF,qBAAA,CAAA,aAAA,EAAAS,MAAA;AACAV,OAAAC,qBAAA,CAAA,YAAA,EAAAU,IAAA;AACAf,UAAAC,GAAA,CAAAO,KAAA,EAAAK,UAAA;AACA,CAbA;;AAgBA7C,OAAAmD,QAAA,GAAA,SAAAC,YAAA,GAAA;AACA,QAAAC,SAAArD,OAAAsD,WAAA;;AAEA;AACA;AACA3B,WAAAW,OAAA,CAAAC,OAAA,IAAA;AACA,UAAAgB,WAAAhB,QAAAiB,SAAA,GAAAH,MAAA;AACA,QAAAE,YAAAjD,eAAA,IAAA,EAAA;AACA,YAAAmD,iBAAAvD,SAAAwB,aAAA,CAAA,kBAAAH,QAAAgB,QAAAK,SAAA,CAAA,IAAA,CAAA;AACAa,qBAAAT,YAAA,CAAA,YAAA,EAAA,WAAA;AACA,KAHA,MAGA;AACA,YAAAS,iBAAAvD,SAAAwB,aAAA,CAAA,kBAAAH,QAAAgB,QAAAK,SAAA,CAAA,IAAA,CAAA;AACAa,qBAAAT,YAAA,CAAA,YAAA,EAAA,YAAA;AACA;AACA,GATA;;AAWAU,kBAAAL,MAAA,CAhBA,CAgBA;AACA,CAjBA","file":"app.js","sourcesContent":["const screenWidth = window.innerWidth ||\n  document.documentElement.clientWidth ||\n  document.body.clientWidth;\n\nconst screenHeight = window.innerHeight ||\n  document.documentElement.clientHeight ||\n  document.body.clientHeight;\nlet body = document.body,\n  html = document.documentElement;\n\nconst documentHeight = Math.max(\n  body.scrollHeight, body.offsetHeight,\n  html.clientHeight, html.scrollHeight, html.offsetHeight,\n);\nconst toTitleCase = str => str.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\nconst slugify = text => text.toLowerCase().replace(/[\\W_]+/g, '-');\nconst main = document.querySelector('.content');\nconst headings = [].slice.call(document.querySelectorAll('h1, h2, h3, h4, h5, h6'));\nheadings.reverse();\nconsole.log(headings);\nconst aside = document.createElement('aside');\nconst list = document.createElement('div');\naside.insertAdjacentElement('afterbegin', list);\nmain.insertAdjacentElement('afterbegin', aside);\nheadings.forEach((heading, index) => {\n  const type = heading.tagName.toLowerCase();\n  const copy = toTitleCase(heading.innerText);\n  const anchorName = slugify(copy);\n  const anchor = document.createElement('a');\n  const link = document.createElement('a');\n  link.setAttribute('href', `#${anchorName}`);\n  link.classList.add(type);\n  link.innerText = copy;\n  anchor.setAttribute('id', anchorName);\n  heading.insertAdjacentElement('beforebegin', anchor);\n  list.insertAdjacentElement('afterbegin', link);\n  console.log(index, anchorName);\n});\n\n\nwindow.onscroll = function windowScroll() {\n  const scroll = window.pageYOffset;\n\n  // log for debug\n  // console.log(scroll);\n  headings.forEach((heading) => {\n    const position = (heading.offsetTop - scroll);\n    if ((position <= (screenHeight * 0.66))) {\n      const currentHeading = document.querySelector(`aside a[href=\"#${slugify(heading.innerText)}\"]`);\n      currentHeading.setAttribute('data-state', 'is-active');\n    } else {\n      const currentHeading = document.querySelector(`aside a[href=\"#${slugify(heading.innerText)}\"]`);\n      currentHeading.setAttribute('data-state', 'not-active');\n    }\n  });\n\n  CurrentScroll = scroll; // Updates current scroll position\n};\n"]}